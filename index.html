<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>D-A-S-C • Hugging Face</title>
  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#0a0a0a">
  <link rel="icon" href="icons/icon-192.png" sizes="192x192">
  <link rel="apple-touch-icon" href="icons/icon-192.png">

  <style>
    body {
      display:flex;align-items:center;justify-content:center;
      height:100vh;margin:0;font-family:sans-serif;
      color:white;background:#0a0a0a;text-align:center;
    }
    a {
      display:inline-block;margin-top:1rem;
      padding:0.5rem 1rem;background:#fff;color:#000;
      border-radius:6px;text-decoration:none;font-weight:bold;
    }
    #countdown { font-size:2rem; font-weight:bold; }
  </style>
</head>
<body>
  <div>
    <h1>D-A-S-C on Hugging Face</h1>
    <p>Redirecting in <span id="countdown">100</span> seconds…</p>
    <p>If you don’t want to wait, <a id="openNow" href="#">Open now</a>.</p>
  </div>

  <script>
    const target = "https://huggingface.co/D-A-S-C";
    let seconds = 100;
    const countdownEl = document.getElementById("countdown");
    const openNow = document.getElementById("openNow");

    // Detect if running as a PWA (standalone)
    const isStandalone = window.matchMedia('(display-mode: standalone)').matches 
                      || window.navigator.standalone;

    function openApp() {
      if (isStandalone) {
        // Stay inside the PWA (top-level navigation)
        window.location.assign(target);
      } else {
        // Fallback if opened in Safari/Browser
        window.open(target, "_blank");
      }
    }

    // Countdown
    const timer = setInterval(() => {
      seconds--;
      countdownEl.textContent = seconds;
      if (seconds <= 0) {
        clearInterval(timer);
        openApp();
      }
    }, 1000);

    // Manual "Open now" button
    openNow.addEventListener("click", (e) => {
      e.preventDefault();
      openApp();
    });
  </script>
</body>
</html>
